parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"4Jd3":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\n#define MIXER_RADIUS 1.0\n#define KNOB_RADIUS MIXER_RADIUS/4.0\n\nuniform float theta;\nuniform float amount;\nuniform vec3 base;\nuniform vec3 additive;\n\nvec3 rgbryb (vec3 rgb) {\n  vec4 rgby = vec4(rgb, rgb.y);\n\n  float w = min(rgb.r, min(rgb.g, rgb.b));\n  rgby -= w;\n\n  float maxG = max(rgby.r, max(rgby.g, rgby.b));\n\n  rgby.a = min(rgby.r, rgby.g);\n  rgby.r -= rgby.a;\n  rgby.g -= rgby.a;\n\n  if (rgby.b > 0.0 && rgby.g > 0.0) {\n    rgby.b /= 2.0;\n    rgby.g /= 2.0;\n  }\n\n  rgby.a += rgby.g;\n  rgby.b += rgby.g;\n\n  float maxY = max(rgby.r, max(rgby.a, rgby.b));\n  if (maxY > 0.0) {\n    rgby *= maxG / maxY;\n  }\n\n  return vec3(rgby.r, rgby.a, rgby.b) + w;\n}\n\nvec3 rybrgb (vec3 ryb) {\n  vec4 rybg = vec4(ryb, ryb.y);\n\n  float w = min(ryb.r, min(ryb.y, ryb.b));\n  rybg -= w;\n\n  float maxY = max(rybg.r, max(rybg.y, rybg.b));\n\n  rybg.a = min(rybg.y, rybg.b);\n  rybg.y -= rybg.a;\n  rybg.b -= rybg.a;\n\n  if (rybg.b > 0.0 && rybg.a > 0.0) {\n    rybg.b *= 2.0;\n    rybg.a *= 2.0;\n  }\n\n  rybg.r += rybg.y;\n  rybg.a += rybg.y;\n\n  float maxG = max(rybg.r, max(rybg.a, rybg.b));\n  if (maxG > 0.0) {\n    rybg *= maxY / maxG;\n  }\n\n  return vec3(rybg.r, rybg.a, rybg.b) + w;\n}\n\nvec4 circle(vec2 uv, vec2 pos, float rad, vec3 color, float antialiasing) {\n  vec2 dist = uv - pos;\n  float c = dot(dist, dist) * 4.0;\n  float f = rad * antialiasing;\n\n\treturn vec4(color, 1.0 - smoothstep(rad - f, rad + f, c));\n}\n\nvoid main() {\n\tvec2 center = resolution.xy * 0.5;\n  vec2 knob = vec2(cos(theta), sin(theta)) * KNOB_RADIUS + vec2(0.5);\n\n  vec3 res = rybrgb(mix(rgbryb(base), rgbryb(additive), clamp(amount, 0.0, 1.0)));\n\n  vec4 c1 = circle(uv, center, MIXER_RADIUS, texture2D(sampler, uv).rgb, 0.03);\n  vec4 c2 = circle(uv, knob, KNOB_RADIUS, res, 0.1);\n\n  gl_FragColor = mix(c1, c2, c2.a);\n}";
},{}],"NAw/":[function(require,module,exports) {
var define;
var t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r){"use strict";var i={},s="undefined"!=typeof devicePixelRatio&&devicePixelRatio||1;i.get3DContext=function(t,e){for(var r=["webgl","experimental-webgl"],i=null,s=0;s<r.length;s++){try{i=t.getContext(r[s],e)}catch(o){}if(i)break}return i},i.createProgram=function(t,e,r){var i,s,o=t.createProgram();try{i=this.compileShader(t,e,t.VERTEX_SHADER),s=this.compileShader(t,r,t.FRAGMENT_SHADER)}catch(h){throw t.deleteProgram(o),h}if(t.attachShader(o,i),t.deleteShader(i),t.attachShader(o,s),t.deleteShader(s),t.linkProgram(o),t.validateProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var a=t.getProgramInfoLog(o);throw new Error("Could not compile WebGL program:\n"+a)}return o},i.compileShader=function(t,e,r){var i=t.createShader(r);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){for(var s=t.getShaderSource(i).split("\n"),o="",a=0;a<s.length;a++)o+=a+1+"."+s[a]+"\n";throw new Error("GLSL Compilation Error:\n"+t.getShaderInfoLog(i)+"\n"+o)}return i},i.createTexture=function(t,e,r,i){var s=t.createTexture(),o=s.format=i&&i.format||t.RGBA,a=s.level=i&&i.level||0,h=s.type=i&&i.type||t.UNSIGNED_BYTE,n=s.border=i&&i.border||0,u=i&&i.minFilter||t.NEAREST,f=i&&i.magFilter||t.NEAREST,l=i&&i.wrapS||t.CLAMP_TO_EDGE,p=i&&i.wrapT||t.CLAMP_TO_EDGE,c=i&&i.data||null,d=i&&i.flipY||!1,m=i&&i.preAlpha||!1;if(h===t.FLOAT){var E=t.getSupportedExtensions();if(E.indexOf("OES_texture_float")<0)throw new Error("Type gl.FLOAT is not supported.");if(t.getExtension("OES_texture_float"),u===t.LINEAR||f===t.LINEAR){if(E.indexOf("OES_texture_float_linear")<0)throw new Error("Type gl.FLOAT with filter gl.LINEAR is not supported.");t.getExtension("OES_texture_float_linear")}}return t.bindTexture(t.TEXTURE_2D,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,f),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,l),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,p),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,d),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),!c||c instanceof ArrayBuffer?t.texImage2D(t.TEXTURE_2D,a,o,e,r,n,o,h,c):t.texImage2D(t.TEXTURE_2D,a,o,o,h,c),t.bindTexture(t.TEXTURE_2D,null),s};var o=["attribute vec2 position;","varying vec2 uv;","void main() {","  uv = position;","  vec2 pos = position * 2.0 - 1.0;","  gl_Position = vec4(pos.x, pos.y, 0, 1);","}"].join("\n"),a=["#ifdef GL_FRAGMENT_PRECISION_HIGH","  precision highp float;","#else","  precision mediump float;","#endif","uniform sampler2D sampler;","uniform vec3 resolution;","uniform int frame;","uniform float time;","varying vec2 uv;"].join("\n"),h=["void main() {","  gl_FragColor = texture2D(sampler, uv);","}"].join("\n"),n=[a,h].join("\n"),u=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),f=u.length/2,l=function(t,e,r,i,s,o){var a=t.getUniformLocation(e,i);if(null!==s&&a){var h=s.length?s:[s];if(o){r.call(t,a,s);for(var n,u=o.length?o:[o],f=0;f<u.length;f++)n=u[f].isShadUTexture&&u[f].output||u[f],t.activeTexture(t.TEXTURE0+h[f]),t.bindTexture(t.TEXTURE_2D,n)}else{var l=[a].concat(h);r.apply(t,l)}}},p=function(t,e,r,i,s,o){var a=t.getAttribLocation(e,r);a<0||(t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindAttribLocation(e,a,"position"),t.vertexAttribPointer(a,i,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a))},c=i.Texture=function(t,e){this.isShadUTexture=!0,this.options=e||{},this.gl=t,t&&t instanceof WebGLRenderingContext?(this.width=(this.options.width||t.canvas.offsetWidth)*s,this.height=(this.options.height||t.canvas.offsetHeight)*s,this.viewportWidth=this.options.viewportWidth||t.canvas.width,this.viewportHeight=this.options.viewportHeight||t.canvas.height,this.uResolution=[this.width/this.height,1,s],this.reset()):console.log("Error, paramater [gl] must be a WebGL context")};c.prototype.reset=function(t){var e=this.gl;return this.shaders=[],this.attributes=[],this.uniforms=[],this.frameBuffer=e.createFramebuffer(),this.textures=[i.createTexture(e,this.width,this.height,this.options.texture),i.createTexture(e,this.width,this.height,this.options.texture)],this.frame=0,this.time=0,this.output=!0!==t&&this.textures[0]||this.output,this.quadBuffer=e.createBuffer(),this.paintShader=i.createProgram(e,o,n),e.bindBuffer(e.ARRAY_BUFFER,this.quadBuffer),this.quadVertices=new Float32Array(u),this.geometryBuffer=this.quadBuffer,this.vertices=this.quadVertices,this.arrays=[e.TRIANGLE_STRIP,0,f],this.options.geometry&&(this.vertices=this.options.geometry.vertices,this.arrays=this.options.geometry.arrays),this},c.prototype.fragment=function(t,e){return this.vertexFragment(o,t,e)},c.prototype.vertexFragment=function(t,e,r,s){var o=i.createProgram(this.gl,t,a+"\n"+e);for(var h in this.shaders.push(o),this.uniforms.push(r||{}),s)s[h].buffer=this.gl.createBuffer();return this.attributes.push(s||{}),this},c.prototype.image=function(t,e){var r={sampler:{type:"t",value:i.createTexture(this.gl,this.width,this.height,{flipY:e||!0,data:t})}};return this.vertexFragment(o,h,r)},c.prototype.paint=function(){if(!this.output)return console.log("Error: no output to paint. Call render() at least once."),this;var t=this.gl;return t.useProgram(this.paintShader),t.bindFramebuffer(t.FRAMEBUFFER,null),p(t,this.paintShader,"position",2,this.quadBuffer,this.quadVertices),l(t,this.paintShader,t.uniform1i,"sampler",0,this.output),t.viewport(0,0,this.viewportWidth,this.viewportHeight),t.drawArrays(t.TRIANGLE_STRIP,0,f),this},c.prototype.resize=function(t,e,r,i){var o=this.gl;this.width=t||o.canvas.offsetWidth*s,this.height=e||o.canvas.offsetHeight*s,this.viewportWidth=r||o.canvas.width,this.viewportHeight=i||o.canvas.height,this.uResolution=[this.width/this.height,1,s];for(var a=0;a<this.textures.length;a++){var h=this.textures[a];o.bindTexture(o.TEXTURE_2D,h),o.texImage2D(o.TEXTURE_2D,h.level,h.format,this.width,this.height,h.border,h.format,h.type,null)}return this},c.prototype.render=function(){var t,e,r,i,s=this.gl;for(this.time=.001*Date.now(),t=0;t<this.shaders.length;t++){if(i=0,r=this.output,e=++this.frame%2,this.output=this.textures[e],this.shaders[t].callback){var o=this.shaders[t].callback(r);if(o){this.output=o;continue}}for(var a in s.useProgram(this.shaders[t]),s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.output,0),p(s,this.shaders[t],"position",2,this.geometryBuffer,this.vertices),l(s,this.shaders[t],s.uniform1i,"sampler",i++,r),l(s,this.shaders[t],s.uniform1i,"frame",this.frame),l(s,this.shaders[t],s.uniform1f,"time",this.time),l(s,this.shaders[t],s.uniform3f,"resolution",this.uResolution),this.attributes)p(s,this.shaders[t],a,this.attributes[a].size,this.attributes[a].buffer,this.attributes[a].data);for(var h in this.uniforms[t]){var n=s["uniform"+this.uniforms[t][h].type],u=this.uniforms[t][h].value,f=null;"t"===this.uniforms[t][h].type&&(n=s.uniform1i,u=i++,f=this.uniforms[t][h].value),l(s,this.shaders[t],n,h,u,f)}s.viewport(0,0,this.width,this.height),s.drawArrays.apply(s,this.arrays)}return this},c.prototype.iterate=function(t){for(var e=this.shaders[this.shaders.length-1],r=this.uniforms[this.uniforms.length-1],i=0;i<t;i++)this.shaders.push(e),this.uniforms.push(r);return this},c.prototype.callback=function(t){return this.fragment(h),this.shaders[this.shaders.length-1].callback=t,this},c.prototype.clear=function(){if(!this.frame)return this;var t=this.gl;return t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this},c.prototype.write=function(t,e,r,i,s,o){var a,h=this.gl;switch(s){case h.UNSIGNED_BYTE:case h.UNSIGNED_SHORT:a=new Uint8Array(o);break;case h.FLOAT:a=new Float32Array(o);break;case h.UNSIGNED_INT:default:a=new Int32Array(o)}h.bindTexture(h.TEXTURE_2D,this.output),h.texSubImage2D(h.TEXTURE_2D,0,t,e,r,i,h.RGBA,s,a)},function(r,i){"function"==typeof t&&t.amd?t([],i):"object"===("undefined"==typeof exports?"undefined":e(exports))?module.exports=i():r.ShadU=i()}(r,function(){return i})}(this);
},{}],"/gyu":[function(require,module,exports) {
"use strict";var e=a(require("./fragment")),t=a(require("shadu"));function a(e){return e&&e.__esModule?e:{default:e}}var n,r=document.getElementById("canvas"),i=t.default.get3DContext(r,{preserveDrawingBuffer:!0}),o={base:[1,220/255,0],additive:[0,116/255,217/255]},u={theta:{type:"1f",value:0},amount:{type:"1f",value:0},base:{type:"3f",value:o.base},additive:{type:"3f",value:o.additive}},d=new t.default.Texture(i).fragment(e.default,u).render().paint(),c=function(){var e=r.getBoundingClientRect();n={left:e.left+window.scrollX,top:e.top+window.scrollY,width:e.width,height:e.height}};window.addEventListener("resize",function(){c()}),c();var l=function(e){return{x:2*((e.clientX-n.left)/n.width)-1,y:2*(1-(e.clientY-n.top)/n.height)-1}},s=function(e,t,a){return{x:(.5*Math.cos(e)+1)/2*t,y:(1-(.5*Math.sin(e)+1)/2)*a}},v=function(e){var t=Math.atan2(e.y,e.x);return t<0?t+2*Math.PI:t},f=document.querySelector("#knob"),h=function(e){var t=s(e,n.width,n.height);f.style.left="".concat(t.x,"px"),f.style.top="".concat(t.y,"px")};h(0),f.style.width="".concat(.5*i.canvas.offsetWidth,"px"),f.style.height="".concat(.5*i.canvas.offsetHeight,"px"),f.style.opacity=1;var g=function(){var e=s(u.theta.value,i.drawingBufferWidth,i.drawingBufferHeight),t=new Uint8Array(4);return i.readPixels(e.x,i.drawingBufferHeight-e.y,1,1,i.RGBA,i.UNSIGNED_BYTE,t),{r:t[0],g:t[1],b:t[2]}},m=document.querySelector("#output"),y=function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1)},p=function(e,t,a){return.299*e+.587*t+.114*a},w=function(){var e=g(),t=p(e.r,e.g,e.b),a=y(e.r,e.g,e.b);m.style.backgroundColor=m.innerHTML=a,m.style.color=t>127?"#000":"#fff",f.style.borderColor=t>127?"rgba(0,0,0,.75)":"rgba(255,255,255,.75)",f.style.boxShadow=t>127?"var(--knob-shadow-dark)":"var(--knob-shadow-light)"};w();var b=0,x=0,M=4*Math.PI,L=M/360,E=function(e){var t=Math.abs(b-e);t>Math.PI&&(t=2*Math.PI-t);for(var a=Math.sign(e-b),n=Math.round(t/L),r=0;r<n;r++)requestAnimationFrame(function(){u.theta.value+=a*L,u.amount.value=(u.theta.value-x)/M,h(u.theta.value),d.render().paint()});b=e,w()},B=function(e){e.preventDefault();var t=l(e),a=v(t);E(a)};document.addEventListener("mouseup",function(e){e.preventDefault(),f.classList.remove("active"),document.removeEventListener("mousemove",B);var t=g();u.base.value=[t.r/255,t.g/255,t.b/255]},!1),f.addEventListener("mousedown",function(e){e.preventDefault();var t=l(e);u.theta.value=x=b=v(t),u.amount.value=0,f.classList.add("active"),document.addEventListener("mousemove",B,!1)},!1),document.querySelectorAll("#palette li").forEach(function(e){e.addEventListener("click",function(e){document.querySelector("#palette li.active").classList.remove("active"),e.target.classList.add("active");var t=window.getComputedStyle(e.target).backgroundColor.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);t&&(u.additive.value=[t[1]/255,t[2]/255,t[3]/255])})});
},{"./fragment":"4Jd3","shadu":"NAw/"}]},{},["/gyu"], null)
//# sourceMappingURL=color-mixer.7203090d.map