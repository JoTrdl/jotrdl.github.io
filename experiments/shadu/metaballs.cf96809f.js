parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"dnrf":[function(require,module,exports) {
var define;
var e;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):t.Stats=n()}(this,function(){var e=function(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";l=e}var l=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),n(++l%i.children.length)},!1);var a=(performance||Date).now(),o=a,r=0,f=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){r++;var e=(performance||Date).now();if(c.update(e-a,200),e>o+1e3&&(f.update(1e3*r/(e-o),100),o=e,r=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var l=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),r=80*o,f=48*o,c=3*o,d=2*o,p=3*o,u=15*o,s=74*o,m=30*o,h=document.createElement("canvas");h.width=r,h.height=f,h.style.cssText="width:80px;height:48px";var v=h.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,r,f),v.fillStyle=t,v.fillText(e,c,d),v.fillRect(p,u,s,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p,u,s,m),{dom:h,update:function(f,y){l=Math.min(l,f),i=Math.max(i,f),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,r,u),v.fillStyle=t,v.fillText(a(f)+" "+e+" ("+a(l)+"-"+a(i)+")",c,d),v.drawImage(h,p+o,u,s-o,m,p,u,s-o,m),v.fillRect(p+s-o,u,o,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p+s-o,u,o,a((1-f/y)*m))}}},e});
},{}],"17M0":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nuniform float dt;\nuniform vec2 blobs[64];\nuniform vec3 blobsColor[64];\nuniform float blobsSize[64];\n\nconst int NBLOB = 64;\n\n#define PI 3.1416\n\nfloat cap(float dist, float begin, float end){\n  if(dist < begin){\n    return 0.0;\n  } else if(dist > end){\n    return 1.0;\n  } else {\n    return .5 + .5 * cos (PI * (-1.0 + 1.0/(end-begin) * (dist-begin)));\n  }\n}\n\nfloat rand(vec2 seed) {\n  return fract(sin(dot(seed.xy,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() { \n  vec2 pos = uv * resolution.xy;\n\n  float dist = 0.0;\n  vec3 color = vec3(0.0);\n\n  for (int i = 0; i < NBLOB; i++) {\n    vec2 rBlob = blobs[i] * resolution.xy;\n    float d = 1.0 - smoothstep(0.0, 0.7, length(pos-rBlob)/blobsSize[i]);\n\n    dist += d;\n    color += d * blobsColor[i];\n  }\n\n  float it = cap(dist,0.7, 0.75);\n  float specMap = cap(1.0 - dist, 0.0, 0.3);\n  float alpha = it * (1.0 - 0.25 * cap(dist, 0.8, 1.0));\n  float spec = it * specMap;\n  vec4 specColor = .1 * vec4(spec);\n\n  gl_FragColor = vec4(it * color, alpha) + specColor;\n}\n";
},{}],"NAw/":[function(require,module,exports) {
var define;
var t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r){"use strict";var i={},s="undefined"!=typeof devicePixelRatio&&devicePixelRatio||1;i.get3DContext=function(t,e){for(var r=["webgl","experimental-webgl"],i=null,s=0;s<r.length;s++){try{i=t.getContext(r[s],e)}catch(o){}if(i)break}return i},i.createProgram=function(t,e,r){var i,s,o=t.createProgram();try{i=this.compileShader(t,e,t.VERTEX_SHADER),s=this.compileShader(t,r,t.FRAGMENT_SHADER)}catch(h){throw t.deleteProgram(o),h}if(t.attachShader(o,i),t.deleteShader(i),t.attachShader(o,s),t.deleteShader(s),t.linkProgram(o),t.validateProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var a=t.getProgramInfoLog(o);throw new Error("Could not compile WebGL program:\n"+a)}return o},i.compileShader=function(t,e,r){var i=t.createShader(r);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){for(var s=t.getShaderSource(i).split("\n"),o="",a=0;a<s.length;a++)o+=a+1+"."+s[a]+"\n";throw new Error("GLSL Compilation Error:\n"+t.getShaderInfoLog(i)+"\n"+o)}return i},i.createTexture=function(t,e,r,i){var s=t.createTexture(),o=s.format=i&&i.format||t.RGBA,a=s.level=i&&i.level||0,h=s.type=i&&i.type||t.UNSIGNED_BYTE,n=s.border=i&&i.border||0,u=i&&i.minFilter||t.NEAREST,f=i&&i.magFilter||t.NEAREST,l=i&&i.wrapS||t.CLAMP_TO_EDGE,p=i&&i.wrapT||t.CLAMP_TO_EDGE,c=i&&i.data||null,d=i&&i.flipY||!1,m=i&&i.preAlpha||!1;if(h===t.FLOAT){var E=t.getSupportedExtensions();if(E.indexOf("OES_texture_float")<0)throw new Error("Type gl.FLOAT is not supported.");if(t.getExtension("OES_texture_float"),u===t.LINEAR||f===t.LINEAR){if(E.indexOf("OES_texture_float_linear")<0)throw new Error("Type gl.FLOAT with filter gl.LINEAR is not supported.");t.getExtension("OES_texture_float_linear")}}return t.bindTexture(t.TEXTURE_2D,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,f),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,l),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,p),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,d),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),!c||c instanceof ArrayBuffer?t.texImage2D(t.TEXTURE_2D,a,o,e,r,n,o,h,c):t.texImage2D(t.TEXTURE_2D,a,o,o,h,c),t.bindTexture(t.TEXTURE_2D,null),s};var o=["attribute vec2 position;","varying vec2 uv;","void main() {","  uv = position;","  vec2 pos = position * 2.0 - 1.0;","  gl_Position = vec4(pos.x, pos.y, 0, 1);","}"].join("\n"),a=["#ifdef GL_FRAGMENT_PRECISION_HIGH","  precision highp float;","#else","  precision mediump float;","#endif","uniform sampler2D sampler;","uniform vec3 resolution;","uniform int frame;","uniform float time;","varying vec2 uv;"].join("\n"),h=["void main() {","  gl_FragColor = texture2D(sampler, uv);","}"].join("\n"),n=[a,h].join("\n"),u=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),f=u.length/2,l=function(t,e,r,i,s,o){var a=t.getUniformLocation(e,i);if(null!==s&&a){var h=s.length?s:[s];if(o){r.call(t,a,s);for(var n,u=o.length?o:[o],f=0;f<u.length;f++)n=u[f].isShadUTexture&&u[f].output||u[f],t.activeTexture(t.TEXTURE0+h[f]),t.bindTexture(t.TEXTURE_2D,n)}else{var l=[a].concat(h);r.apply(t,l)}}},p=function(t,e,r,i,s,o){var a=t.getAttribLocation(e,r);a<0||(t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindAttribLocation(e,a,"position"),t.vertexAttribPointer(a,i,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a))},c=i.Texture=function(t,e){this.isShadUTexture=!0,this.options=e||{},this.gl=t,t&&t instanceof WebGLRenderingContext?(this.width=(this.options.width||t.canvas.offsetWidth)*s,this.height=(this.options.height||t.canvas.offsetHeight)*s,this.viewportWidth=this.options.viewportWidth||t.canvas.width,this.viewportHeight=this.options.viewportHeight||t.canvas.height,this.uResolution=[this.width/this.height,1,s],this.reset()):console.log("Error, paramater [gl] must be a WebGL context")};c.prototype.reset=function(t){var e=this.gl;return this.shaders=[],this.attributes=[],this.uniforms=[],this.frameBuffer=e.createFramebuffer(),this.textures=[i.createTexture(e,this.width,this.height,this.options.texture),i.createTexture(e,this.width,this.height,this.options.texture)],this.frame=0,this.time=0,this.output=!0!==t&&this.textures[0]||this.output,this.quadBuffer=e.createBuffer(),this.paintShader=i.createProgram(e,o,n),e.bindBuffer(e.ARRAY_BUFFER,this.quadBuffer),this.quadVertices=new Float32Array(u),this.geometryBuffer=this.quadBuffer,this.vertices=this.quadVertices,this.arrays=[e.TRIANGLE_STRIP,0,f],this.options.geometry&&(this.vertices=this.options.geometry.vertices,this.arrays=this.options.geometry.arrays),this},c.prototype.fragment=function(t,e){return this.vertexFragment(o,t,e)},c.prototype.vertexFragment=function(t,e,r,s){var o=i.createProgram(this.gl,t,a+"\n"+e);for(var h in this.shaders.push(o),this.uniforms.push(r||{}),s)s[h].buffer=this.gl.createBuffer();return this.attributes.push(s||{}),this},c.prototype.image=function(t,e){var r={sampler:{type:"t",value:i.createTexture(this.gl,this.width,this.height,{flipY:e||!0,data:t})}};return this.vertexFragment(o,h,r)},c.prototype.paint=function(){if(!this.output)return console.log("Error: no output to paint. Call render() at least once."),this;var t=this.gl;return t.useProgram(this.paintShader),t.bindFramebuffer(t.FRAMEBUFFER,null),p(t,this.paintShader,"position",2,this.quadBuffer,this.quadVertices),l(t,this.paintShader,t.uniform1i,"sampler",0,this.output),t.viewport(0,0,this.viewportWidth,this.viewportHeight),t.drawArrays(t.TRIANGLE_STRIP,0,f),this},c.prototype.resize=function(t,e,r,i){var o=this.gl;this.width=t||o.canvas.offsetWidth*s,this.height=e||o.canvas.offsetHeight*s,this.viewportWidth=r||o.canvas.width,this.viewportHeight=i||o.canvas.height,this.uResolution=[this.width/this.height,1,s];for(var a=0;a<this.textures.length;a++){var h=this.textures[a];o.bindTexture(o.TEXTURE_2D,h),o.texImage2D(o.TEXTURE_2D,h.level,h.format,this.width,this.height,h.border,h.format,h.type,null)}return this},c.prototype.render=function(){var t,e,r,i,s=this.gl;for(this.time=.001*Date.now(),t=0;t<this.shaders.length;t++){if(i=0,r=this.output,e=++this.frame%2,this.output=this.textures[e],this.shaders[t].callback){var o=this.shaders[t].callback(r);if(o){this.output=o;continue}}for(var a in s.useProgram(this.shaders[t]),s.bindFramebuffer(s.FRAMEBUFFER,this.frameBuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.output,0),p(s,this.shaders[t],"position",2,this.geometryBuffer,this.vertices),l(s,this.shaders[t],s.uniform1i,"sampler",i++,r),l(s,this.shaders[t],s.uniform1i,"frame",this.frame),l(s,this.shaders[t],s.uniform1f,"time",this.time),l(s,this.shaders[t],s.uniform3f,"resolution",this.uResolution),this.attributes)p(s,this.shaders[t],a,this.attributes[a].size,this.attributes[a].buffer,this.attributes[a].data);for(var h in this.uniforms[t]){var n=s["uniform"+this.uniforms[t][h].type],u=this.uniforms[t][h].value,f=null;"t"===this.uniforms[t][h].type&&(n=s.uniform1i,u=i++,f=this.uniforms[t][h].value),l(s,this.shaders[t],n,h,u,f)}s.viewport(0,0,this.width,this.height),s.drawArrays.apply(s,this.arrays)}return this},c.prototype.iterate=function(t){for(var e=this.shaders[this.shaders.length-1],r=this.uniforms[this.uniforms.length-1],i=0;i<t;i++)this.shaders.push(e),this.uniforms.push(r);return this},c.prototype.callback=function(t){return this.fragment(h),this.shaders[this.shaders.length-1].callback=t,this},c.prototype.clear=function(){if(!this.frame)return this;var t=this.gl;return t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this},c.prototype.write=function(t,e,r,i,s,o){var a,h=this.gl;switch(s){case h.UNSIGNED_BYTE:case h.UNSIGNED_SHORT:a=new Uint8Array(o);break;case h.FLOAT:a=new Float32Array(o);break;case h.UNSIGNED_INT:default:a=new Int32Array(o)}h.bindTexture(h.TEXTURE_2D,this.output),h.texSubImage2D(h.TEXTURE_2D,0,t,e,r,i,h.RGBA,s,a)},function(r,i){"function"==typeof t&&t.amd?t([],i):"object"===("undefined"==typeof exports?"undefined":e(exports))?module.exports=i():r.ShadU=i()}(r,function(){return i})}(this);
},{}],"qdbx":[function(require,module,exports) {
"use strict";var e=n(require("stats.js")),t=n(require("./fragment")),a=n(require("shadu"));function n(e){return e&&e.__esModule?e:{default:e}}var r=64,i=window.innerWidth,d=window.innerHeight,o=document.getElementById("canvas");o.width=i,o.height=d;var u=new e.default;document.location.search.match(/nostats/)||document.body.appendChild(u.domElement);var h=a.default.get3DContext(o,{premultipliedAlpha:!1,alpha:!1,depth:!1,stencil:!1});h.disable(h.DEPTH_TEST),h.disable(h.CULL_FACE),h.disable(h.DITHER);for(var l=[],s=[],m=[],p=[],v=0;v<r;v++)l.push(Math.random()),l.push(Math.random()),s.push(Math.random()),s.push(Math.random()),s.push(Math.random()),m.push(Math.random()/3+.1),p.push(Math.random()<.5?-1:1),p.push(Math.random()<.5?-1:1);var w={dt:{type:"1f",value:0},blobs:{type:"2fv",value:new Float32Array(l)},blobsColor:{type:"3fv",value:new Float32Array(s)},blobsSize:{type:"1fv",value:new Float32Array(m)}},f=new a.default.Texture(h,{width:i/2,height:d/2,texture:{minFilter:h.LINEAR,magFilter:h.LINEAR}}).fragment(t.default,w),c=function(){for(var e=2/i,t=2/d,a=0;a<2*r;a+=2)(l[a]<=0||l[a]>=1)&&(p[a]=-p[a]),(l[a+1]<=0||l[a+1]>=1)&&(p[a+1]=-p[a+1]),l[a]=l[a]+e*p[a],l[a+1]=l[a+1]+t*p[a+1];w.blobs.value=new Float32Array(l)};window.addEventListener("resize",function(){i=o.width=window.innerWidth,d=o.height=window.innerHeight,f.resize(i/2,d/2)});var b=function e(){requestAnimationFrame(e),u.update(),c(),w.dt.value+=.01,f.render().paint()};b();
},{"stats.js":"dnrf","./fragment":"17M0","shadu":"NAw/"}]},{},["qdbx"], null)
//# sourceMappingURL=metaballs.cf96809f.map